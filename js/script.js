"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}!function(){var e={870:function(e,t,n){function r(e,t){document.cookie=e+"="+encodeURIComponent(t)}function i(e){var t=("; "+document.cookie).split("; "+e+"=");if(2===t.length)return t.pop().split(";").shift()}n.d(t,{d:function(){return r},e:function(){return i}})},155:function(e,t,n){var r=n(279),i=n(759),c=new r.Z(i.c);i.c.addEventListener("submit",(function(e){e.preventDefault();var t=i.q.value;c.init(t),i.q.focus()}))},279:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(759),i=function(){function e(t){_classCallCheck(this,e),this.element=t,this.checked=!1,this.checkedLuhn=!1,this.card=null}return _createClass(e,[{key:"init",value:function(e){this.checkLuhn(e),this.getCheckedLuhn(e),/^\d+$/.test(e)&&!0===this.checkedLuhn&&this.validate(e);var t=document.querySelector(".error");if(null===t&&!1===this.checked){var n=document.createElement("span");n.classList.add("error"),/^\d+$/.test(e)&&!0===this.checkedLuhn?null===this.card&&(n.textContent="Карта не пренадлежит ни одной из выше данных платежных систем.",this.disable()):!1===/^\d+$/.test(e)?(n.textContent="Карта не валидна: карта должна состоять только из цифр.",this.disable()):/^\d+$/.test(e)&&!1===this.checkedLuhn&&(n.textContent="Карта не валидна: валидация по алгоритму Луна не пройдена.",this.disable()),r.q.after(n),r.q.style.marginBottom="8px"}else null!==t&&!1===this.checked&&(/^\d+$/.test(e)&&!0===this.checkedLuhn?null===this.card&&(t.textContent="Карта не пренадлежит ни одной из выше данных платежных систем.",this.disable()):!1===/^\d+$/.test(e)?(t.textContent="Карта не валидна: карта должна состоять только из цифр.",this.disable()):/^\d+$/.test(e)&&!1===this.checkedLuhn&&(t.textContent="Карта не валидна: валидация по алгоритму Луна не пройдена.",this.disable()));null!==t&&!0===this.checked&&(t.remove(),r.q.removeAttribute("style")),this.disable(),this.checked=!1,this.card=null,this.checkedLuhn=!1}},{key:"validate",value:function(e){/(^4)/.test(e)&&[13,16].includes(e.length)?(this.checked=!0,this.card="visa"):/(^5[1-5]|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)/.test(e)&&16===e.length?(this.checked=!0,this.card="mastercard"):/(^3[47])/.test(e)&&15===e.length?(this.checked=!0,this.card="amex"):/(^220(0|4))/.test(e)&&[16,17,18,19].includes(e.length)?(this.checked=!0,this.card="mir"):/^(?:2131|1800)/.test(e)&&15===e.length||/(^35)/.test(e)&&16===e.length?(this.checked=!0,this.card="jcb"):/(^6(?:011|5))/.test(e)&&16===e.length?(this.checked=!0,this.card="discover"):/^3(?:0[0-5]|[68])/.test(e)&&14===e.length&&(this.checked=!0,this.card="diners")}},{key:"disable",value:function(){var e=this,t=Array.from(document.querySelectorAll(".validator__card"));t.filter((function(t){return t.classList[1]!==e.card})).forEach((function(e){e.style.filter="grayscale(1)"}));var n=t.filter((function(t){return t.classList[1]===e.card}));0!==n.length&&(n[0].style.filter="grayscale(0)")}},{key:"checkLuhn",value:function(e){if(e.length<13)return!1;for(var t=0,n=0;n<e.length;n++){var r=parseInt(e[n],10);(e.length-n)%2==0&&((r*=2)>9&&(r-=9)),t+=r}return 0!==t&&t%10==0}},{key:"getCheckedLuhn",value:function(e){!0===this.checkLuhn(e)&&(this.checkedLuhn=!0)}}]),e}()},759:function(e,t,n){n.d(t,{c:function(){return i},q:function(){return r}});var r=document.querySelector(".validator__input"),i=document.querySelector(".validator__form")},776:function(e,t,n){var r=n(759),i=n(870),c=function(){function e(t){_classCallCheck(this,e),this.element=t}return _createClass(e,[{key:"render",value:function(){var e=document.createElement("div");e.classList.add("popup");var t=document.createElement("div");t.classList.add("popup__wrapper");var n=document.createElement("button");n.type="button",n.classList.add("popup__btn"),n.textContent="Продолжить";var c=document.createElement("span");c.classList.add("popup__span"),c.textContent="Прежде чем вы продолжите...";var o=document.createElement("p");o.classList.add("popup__text"),o.innerHTML="Использование этого приложения абсолютно безопасно. Я&nbsp;не&nbsp;имею доступа\n    к&nbsp;какой-либо информации или&nbsp;данным, которые вы&nbsp;вводите на&nbsp;сайте, включая номер вашей\n    кредитной карты.",this.element.append(e),e.append(t),t.append(c),t.append(o),t.append(n),n.addEventListener("click",(function(){e.remove(),(0,i.d)("modal","true"),r.q.focus()}))}}]),e}();window.addEventListener("load",(function(){"true"!==(0,i.e)("modal")&&(new c(document.body).render(),gsap.fromTo(".popup__wrapper",{opacity:0,y:100},{duration:.6,opacity:1,y:0}))}))},693:function(){}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var c=t[r]={exports:{}};return e[r](c,c.exports,n),c.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n(870),n(155),n(279),n(759),n(776),n(693)}();